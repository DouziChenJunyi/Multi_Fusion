{"remainingRequest":"/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/src/components/test.vue?vue&type=style&index=1&id=e43c18bc&lang=less&scoped=true&","dependencies":[{"path":"/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/src/components/test.vue","mtime":1629446143029},{"path":"/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/node_modules/less-loader/dist/cjs.js","mtime":1628731336639},{"path":"/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenjunyi/Documents/HBuilderProjects/gooselab_vue2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zbGlkZXNob3d7CiAgcGFkZGluZzogODBweDsKICAuZmxleENzc3sKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgfQogICNmaWxlcyB7CiAgICBkaXNwbGF5OiBub25lOwogIH0KICAuYmFubmVyLWNvbnRlbnR7CiAgICA+aDJ7CiAgICAgIHdpZHRoOiA4MCU7CiAgICB9CiAgfQogIC5sYWJlbENzcyB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGZvbnQtc2l6ZTogNDBweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIC5mbGV4Q3NzOwogIH0KICAuZGlzQ29udGVudCB7CiAgICBwYWRkaW5nOiAwIDIwcHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGZsZXgtd3JhcDogd3JhcDsKICAgIC5pbWctZGl2IHsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBtYXJnaW46IGF1dG8gMTBweCAxMHB4IDEwcHg7CiAgICAgIHdpZHRoOiAxMjBweDsKICAgICAgaGVpZ2h0OiAxMjBweDsKICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAuZmxleENzczsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI2UzZTNlMzsKICAgICAgPiBpbWcgewogICAgICAgIG1heC1oZWlnaHQ6IDEwMCU7CiAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICB9CiAgICAgIC5kaXNDb250ZW50LWhpZGUgewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDgsIDQ4LCA0OCwgMC41OSk7CiAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgfQogICAgICAuRGVsZXRlIHsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgYm90dG9tOiAxNHB4OwogICAgICAgIHJpZ2h0OiAxMHB4OwogICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICB9CiAgICAgIC5lZGl0Q3NzIHsKICAgICAgICAuRGVsZXRlOwogICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICByaWdodDogOTBweDsKICAgICAgfQogICAgICAueXVMYW4gewogICAgICAgIC5EZWxldGU7CiAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgIHJpZ2h0OiA1MHB4OwogICAgICB9CiAgICAgIC55dUxhbkltZyB7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIGJvdHRvbTogMDsKICAgICAgICByaWdodDogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgfQogICAgfQogICAgLmltZy1kaXY6aG92ZXIgLmRpc0NvbnRlbnQtaGlkZSB7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgfQogICAgLmltZy1maWxlIHsKICAgICAgLmltZy1kaXY7CiAgICB9CiAgICAucGl0Y2hDc3MgewogICAgICBib3JkZXI6IDFweCBzb2xpZCAjMjAyZTc4OwogICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuMXM7CiAgICAgIHdpZHRoOiAxMTZweDsKICAgICAgaGVpZ2h0OiAxMTZweDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["test.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"test.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"slideshow\">\n    <el-button type=\"primary\" @click=\"dialogVisibleImg = true\">上传图片</el-button>\n    <!--    图片上传-->\n    <el-dialog\n        title=\"编辑标题和链接\"\n        :visible.sync=\"dialogVisibleImg\"\n        width=\"40%\">\n      <div>\n        <div class=\"disContent\">\n          <div v-for=\"(item, index) in imgs\" :key=\"index\" class=\"img-div\"\n               @click=\"switcherCss(item, index)\"\n               :class=\"{'pitchCss':active === index}\">\n            <img :src=\"item.picture\" alt=\"\">\n            <div class=\"disContent-hide\">\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"预览\" placement=\"top\">\n                <span class=\"iconfont iconfangdajing yuLan\">\n                    <viewer :images=\"imgs\">\n                        <img :src=\"item.picture\" alt=\"\" class=\"yuLanImg\">\n                    </viewer>\n                </span>\n              </el-tooltip>\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"删除\" placement=\"top\">\n                <span class=\"Delete\" @click=\"deleteImg(item,index)\"><i class=\"el-icon-delete\"></i></span>\n              </el-tooltip>\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"编辑\" placement=\"top\">\n                <span class=\"editCss\" @click=\"editTitle(item, index)\"><i class=\"el-icon-edit\"></i></span>\n              </el-tooltip>\n            </div>\n          </div>\n          <div class=\"img-file\" v-if='imgs.length < maxCount'>\n            <input type=\"file\" id='files' @change='fileChange($event)' multiple=\"multiple\"\n                   ref=\"FileValue\">\n            <label for=\"files\" class=\"labelCss\">\n              <i class=\"el-icon-plus\"></i>\n            </label>\n          </div>\n        </div>\n        <el-dialog\n            width=\"40%\"\n            title=\"编辑标题和链接\"\n            :visible.sync=\"innerVisible\"\n            append-to-body>\n          <div>\n            <el-form label-width=\"80px\" :model=\"ruleForm\" v-for=\"(item, index) in titleData\" :key=\"index\">\n              <el-form-item label=\"标题\">\n                <el-input v-model=\"item.title\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"文本\">\n                <el-input v-model=\"item.content\" type=\"textarea\"\n                          :rows=\"4\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"链接\">\n                <el-input v-model=\"item.url\"></el-input>\n              </el-form-item>\n            </el-form>\n          </div>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"innerVisible = false\">取消</el-button>\n            <el-button @click=\"saveTitle\" type=\"primary\">已完成</el-button>\n          </div>\n        </el-dialog>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisibleImg = false\">取消</el-button>\n        <el-button @click=\"dialogVisibleImg = false\" type=\"primary\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'slideshow',\n  data () {\n    return {\n      imgs: [], // 图片数据\n      imgfiles: [],\n      maxCount: 5, // 上传最大限制\n      innerVisible: false, // 编辑标题和Url\n      dialogVisibleImg: false,\n      ruleForm: {},\n      index: '', // 获取图标下标\n      imgData: '', // 图片数据\n      titleData: [], // 编辑文本的数据\n      active: 0, // 切换选中样式\n      getItem: {} // 获取当前选择的item数据\n    }\n  },\n  methods: {\n    // 加入图片\n    fileChange (e) {\n      var _this = this\n      var file = e.target.files\n      var leng = file.length\n      if (leng + _this.imgs.length > _this.maxCount) {\n        alert('最多只能上传' + _this.maxCount + '张图片！')\n        return\n      }\n      for (var i = 0; i < leng; i++) {\n        var reader = new FileReader() // 使用 FileReader 来获取图片路径及预览效果\n        _this.imgfiles.push(file[i])\n        reader.readAsDataURL(file[i])\n        reader.onload = function (e) {\n          let obj = {\n            title: '',\n            content: '',\n            url: '',\n            picture: e.target.result\n          }\n          _this.imgs.push(obj) // base64 图片地址形成预览\n        }\n      }\n      this.$refs.FileValue.value = '' // 这里不清空一次会导致相同的图片无法上传\n    },\n    // 删除图片\n    deleteImg (item, index) {\n      this.imgfiles.splice(index, 1)\n      this.imgs.splice(index, 1)\n    },\n    // 打开编辑文本框\n    editTitle (item, index) {\n      this.innerVisible = true\n      this.index = index\n      this.imgData = item.data\n      // 这里使用this.$set,是由于JavaScript的限制,Vue 不能检测以下变动的数组：\n      // 当你利用索引直接设置一个对象时: 例如: this.imgs[0] = obj 会发现不能被检测到\n      // 解决: 用$set方法 this.$set(Array, index, value)\n      this.$set(this.titleData, 0, JSON.parse(JSON.stringify(item)))\n    },\n    // 保存图片文字编辑\n    saveTitle () {\n      let obj = JSON.parse(JSON.stringify(this.titleData[0]))\n      this.$set(this.imgs, this.index, obj)\n      this.innerVisible = false\n    },\n    // 切换显示图片\n    switcherCss (item, index) {\n      this.active = index // 选中切换样式\n      this.getItem = JSON.parse(JSON.stringify(item)) // 这里深复制当前选中的对象，准备保存的时候使用\n    }\n  }\n}\n</script>\n<style lang='less'>\n  .el-dialog__header {\n    min-height: 40px;\n  }\n  @import '../../../common/css/elementCommon';\n</style>\n<style lang='less' scoped>\n  .slideshow{\n    padding: 80px;\n    .flexCss{\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    #files {\n      display: none;\n    }\n    .banner-content{\n      >h2{\n        width: 80%;\n      }\n    }\n    .labelCss {\n      width: 100%;\n      height: 100%;\n      font-size: 40px;\n      cursor: pointer;\n      .flexCss;\n    }\n    .disContent {\n      padding: 0 20px;\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n      .img-div {\n        position: relative;\n        margin: auto 10px 10px 10px;\n        width: 120px;\n        height: 120px;\n        border-radius: 4px;\n        .flexCss;\n        border: 1px solid #e3e3e3;\n        > img {\n          max-height: 100%;\n          max-width: 100%;\n        }\n        .disContent-hide {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          border-radius: 4px;\n          background-color: rgba(48, 48, 48, 0.59);\n          display: none;\n        }\n        .Delete {\n          position: absolute;\n          bottom: 14px;\n          right: 10px;\n          font-size: 16px;\n          color: white;\n          cursor: pointer;\n        }\n        .editCss {\n          .Delete;\n          font-size: 16px;\n          right: 90px;\n        }\n        .yuLan {\n          .Delete;\n          font-size: 16px;\n          right: 50px;\n        }\n        .yuLanImg {\n          position: absolute;\n          bottom: 0;\n          right: 0;\n          width: 100%;\n          height: 100%;\n          opacity: 0;\n        }\n      }\n      .img-div:hover .disContent-hide {\n        display: block;\n      }\n      .img-file {\n        .img-div;\n      }\n      .pitchCss {\n        border: 1px solid #202e78;\n        transition: all linear 0.1s;\n        width: 116px;\n        height: 116px;\n      }\n    }\n  }\n</style>\n\n"]}]}